var a=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},z=class{static fromArray(t,r){let n=r||new Ar;for(let i=t.length-1;i>=0;--i)n=new vt(t[i],n);return n}[Symbol.iterator](){return new Rn(this)}toArray(){return[...this]}atLeastLength(t){for(let r of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let r of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let r of this)t++;return t}};function m(e,t){return new vt(e,t)}function u(e,t){return z.fromArray(e,t)}var Rn=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof Ar)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},Ar=class extends z{},vt=class extends z{constructor(t,r){super(),this.head=t,this.tail=r}},Lr=class e{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatFromSlice(t,r,n){return Xl(this.buffer,t,r,n)}intFromSlice(t,r,n,i){return Zl(this.buffer,t,r,n,i)}binaryFromSlice(t,r){return new e(this.buffer.slice(t,r))}sliceAfter(t){return new e(this.buffer.slice(t))}};function Zl(e,t,r,n,i){let s=0;if(n)for(let o=t;o<r;o++)s=s*256+e[o];else for(let o=r-1;o>=t;o--)s=s*256+e[o];if(i){let l=2**((r-t)*8-1);s>=l&&(s-=l*2)}return s}function Xl(e,t,r,n){let i=new DataView(e.buffer),s=r-t;if(s===8)return i.getFloat64(t,!n);if(s===4)return i.getFloat32(t,!n);{let o=`Sized floats must be 32-bit or 64-bit on JavaScript, got size of ${s*8} bits`;throw new globalThis.Error(o)}}var Qe=class e extends a{static isResult(t){return t instanceof e}},c=class extends Qe{constructor(t){super(),this[0]=t}isOk(){return!0}},f=class extends Qe{constructor(t){super(),this[0]=t}isOk(){return!1}};function k(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!fs(n)||!fs(i)||!ou(n,i)||eu(n,i)||tu(n,i)||ru(n,i)||nu(n,i)||iu(n,i)||su(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[l,p]=Ql(n);for(let d of l(n))r.push(p(n,d),p(i,d))}return!0}function Ql(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function eu(e,t){return e instanceof Date&&(e>t||e<t)}function tu(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function ru(e,t){return Array.isArray(e)&&e.length!==t.length}function nu(e,t){return e instanceof Map&&e.size!==t.size}function iu(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function su(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function fs(e){return typeof e=="object"&&e!==null}function ou(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function je(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.fn=n;for(let l in s)o[l]=s[l];return o}var $=class extends a{constructor(t){super(),this[0]=t}},_=class extends a{};function et(e,t){if(e instanceof $){let r=e[0];return new c(r)}else return new f(t)}function Ot(e){if(e.isOk()){let t=e[0];return new $(t)}else return new _}function Ee(e,t){return e instanceof $?e[0]:t}function vr(e,t){if(e instanceof $){let r=e[0];return new $(t(r))}else return new _}var tt=class extends a{constructor(t,r){super(),this.content=t,this.submatches=r}},Or=class extends a{constructor(t,r){super(),this.error=t,this.byte_index=r}},jr=class extends a{constructor(t,r){super(),this.case_insensitive=t,this.multi_line=r}};function ds(e,t){return _s(e,t)}function Er(e,t){return $s(e,t)}function jt(e){return e>=0?e:e*-1}function Te(e){return hs(e)}function j(e){return ws(e)}function xs(e){return e[1]}function uu(e,t){for(;;){let r=e,n=t;if(r.atLeastLength(1))e=r.tail,t=n+1;else return n}}function Kn(e){return uu(e,0)}function au(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=m(i,n)}}}function I(e){return au(e,u([]))}function Et(e){if(e.hasLength(0))return new f(void 0);{let t=e.head;return new c(t)}}function pu(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return I(s);{let o=n.head;e=n.tail,t=i,r=m(i(o),s)}}}function E(e,t){return pu(e,t,u([]))}function cu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return I(l);{let p=i.head,d=i.tail,h=m(s(p,o),l);e=d,t=s,r=o+1,n=h}}}function qr(e,t){return cu(e,t,0,u([]))}function fu(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return new c(I(s));{let o=n.head,l=n.tail,p=i(o);if(p.isOk()){let d=p[0];e=l,t=i,r=m(d,s)}else{let d=p[0];return new f(d)}}}}function Tt(e,t){return fu(e,t,u([]))}function St(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return u([]);e=r.tail,t=n-1}}function du(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return I(s);if(n.hasLength(0))return I(s);{let l=n.head;e=n.tail,t=i-1,r=m(l,s)}}}function Vn(e,t){return du(e,t,u([]))}function _u(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=m(i,n)}}}function we(e,t){return _u(I(e),t)}function $u(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=m(i,n)}}}function mu(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return I(n);{let i=r.head;e=r.tail,t=$u(i,n)}}}function Yn(e){return mu(e,u([]))}function Ie(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function hu(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return s;{let p=i.head;e=i.tail,t=o(s,p,l),r=o,n=l+1}}}function Zn(e,t,r){return hu(e,t,r,0)}function wu(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return new f(void 0);{let i=r.head,s=r.tail,o=n(i);if(o.isOk()){let l=o[0];return new c(l)}else e=s,t=n}}}function xu(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return I(s);{let o=n.head;e=n.tail,t=i,r=m(o,m(i,s))}}}function Mr(e,t){if(e.hasLength(0))return e;if(e.hasLength(1))return e;{let r=e.head,n=e.tail;return xu(n,t,u([r]))}}function gu(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return s;e=n,t=i-1,r=m(n,s)}}function gs(e,t){return gu(e,t,u([]))}function xe(e,t){return wu(e,r=>{let n=r[0],i=r[1];return k(n,t)?new c(i):new f(void 0)})}function zr(e,t,r){if(e.hasLength(0))return u([[t,r]]);if(e.atLeastLength(1)&&k(e.head[0],t)){let n=e.head[0],i=e.tail;return m([t,r],i)}else{let n=e.head,i=e.tail;return m(n,zr(i,t,r))}}function T(e,t){if(e.isOk()){let r=e[0];return new c(t(r))}else{let r=e[0];return new f(r)}}function pe(e,t){if(e.isOk()){let r=e[0];return new c(r)}else{let r=e[0];return new f(t(r))}}function N(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new f(r)}}function C(e,t){return N(e,t)}function De(e,t){return e.isOk()?e[0]:t}function ys(e){return pe(e,t=>{})}function Xn(e,t){if(e.isOk()){let r=e[0];return new c(r)}else return new f(t)}function Qn(){return Mt(u([]))}function Ce(e){return Mt(e)}function ei(e){return Mt(e)}function qt(e){return e}function X(e){return e}function ri(e){return Ls(e)}function Me(e){return ti(e)}function Nt(e,t){return js(e,t)}function Pt(e){let r=Ce(e);return X(r)}function Q(e,t){return Os(e,t)}function Ft(e){return vs(e)}function ks(e,t,r){let i=Pr(e),s=St(i,t),o=Vn(s,r);return Pt(o)}function As(e,t,r){if(r<0)return"";if(t<0){let s=ri(e)+t;return s<0?"":ks(e,s,r)}else return ks(e,t,r)}function Fr(e,t){return t<0?e:As(e,t,ri(e)-t)}var K=class extends a{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}};function Ir(e){return new c(e)}function It(e){return ai(e)}function Ss(e){return Ns(e)}function Eu(e){return Fs(e)}function Cs(e){return t=>Is(t,e)}function Ts(e,t){let r=e===1?"":"s",n=(()=>{let i=u(["Tuple of at least ",j(e)," element",r]),s=Ce(i),o=X(s);return new K(o,It(t),u([]))})();return new f(u([n]))}function Dr(e){return t=>{if(e.hasLength(0))return new f(u([new K("another type",It(t),u([]))]));{let r=e.head,n=e.tail,i=r(t);if(i.isOk()){let s=i[0];return new c(s)}else return Dr(n)(t)}}}function se(e){return e.isOk()?u([]):e[0]}function si(e,t){return r=>{let n=t(r);if(n.isOk()){let i=n[0];return new c(e(i))}else{let i=n;return new f(se(i))}}}function oi(e,t){let r=t,n=Dr(u([q,s=>T(Ss(s),j)])),i=(()=>{let s=n(r);if(s.isOk())return s[0];{let o=u(["<",It(r),">"]),l=Ce(o);return X(l)}})();return e.withFields({path:m(i,e.path)})}function ce(e){return t=>N(Eu(t),r=>{let i=Tt(r,e);return li(i,s=>oi(s,"*"))})}function li(e,t){return pe(e,r=>E(r,t))}function q(e){return zs(e)}function M(e,t){return r=>{let n=new K("field","nothing",u([]));return N(Ds(r,e),i=>{let o=et(i,u([n])),l=N(o,t);return li(l,p=>oi(p,e))})}}function qs(e,t){return r=>N(Ps(r),n=>{let i=zt(n);return N(e>=0?e<i?ii(n,e):Ts(e+1,r):jt(e)<=i?ii(n,i+e):Ts(jt(e),r),s=>{let o=t(s);return li(o,l=>oi(l,e))})})}function ui(e,t,r,n){return i=>{let s=t(i),o=r(i),l=n(i);if(s.isOk()&&o.isOk()&&l.isOk()){let p=s[0],d=o[0],h=l[0];return new c(e(p,d,h))}else{let p=s,d=o,h=l;return new f(Yn(u([se(p),se(d),se(h)])))}}}function Ms(e,t,r,n,i,s,o,l){return p=>{let d=t(p),h=r(p),x=n(p),y=i(p),L=s(p),Y=o(p),ve=l(p);if(d.isOk()&&h.isOk()&&x.isOk()&&y.isOk()&&L.isOk()&&Y.isOk()&&ve.isOk()){let Oe=d[0],$e=h[0],g=x[0],b=y[0],S=L[0],F=Y[0],me=ve[0];return new c(e(Oe,$e,g,b,S,F,me))}else{let Oe=d,$e=h,g=x,b=y,S=L,F=Y,me=ve;return new f(Yn(u([se(Oe),se($e),se(g),se(b),se(S),se(F),se(me)])))}}}var Gs=new WeakMap,pi=new DataView(new ArrayBuffer(8)),ci=0;function fi(e){let t=Gs.get(e);if(t!==void 0)return t;let r=ci++;return ci===2147483647&&(ci=0),Gs.set(e,r),r}function di(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function $i(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Bs(e){pi.setFloat64(0,e);let t=pi.getInt32(0),r=pi.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function Tu(e){return $i(e.toString())}function Su(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return fi(e);if(e instanceof Date)return Bs(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+te(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+te(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+di(te(n),te(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+di(te(o),$i(s))|0}}return r}function te(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Bs(e);case"string":return $i(e);case"bigint":return Tu(e);case"object":return Su(e);case"symbol":return fi(e);case"function":return fi(e);default:return 0}}var de=5,mi=Math.pow(2,de),Cu=mi-1,qu=mi/2,Mu=mi/4,H=0,fe=1,V=2,Ge=3,hi={type:V,bitmap:0,array:[]};function Dt(e,t){return e>>>t&Cu}function Hr(e,t){return 1<<Dt(e,t)}function zu(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function wi(e,t){return zu(e&t-1)}function re(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function Nu(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function _i(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Hs(e,t,r,n,i,s){let o=te(t);if(o===n)return{type:Ge,hash:o,array:[{type:H,k:t,v:r},{type:H,k:i,v:s}]};let l={val:!1};return Gt(xi(hi,e,o,t,r,l),e,n,i,s,l)}function Gt(e,t,r,n,i,s){switch(e.type){case fe:return Pu(e,t,r,n,i,s);case V:return xi(e,t,r,n,i,s);case Ge:return Fu(e,t,r,n,i,s)}}function Pu(e,t,r,n,i,s){let o=Dt(r,t),l=e.array[o];if(l===void 0)return s.val=!0,{type:fe,size:e.size+1,array:re(e.array,o,{type:H,k:n,v:i})};if(l.type===H)return k(n,l.k)?i===l.v?e:{type:fe,size:e.size,array:re(e.array,o,{type:H,k:n,v:i})}:(s.val=!0,{type:fe,size:e.size,array:re(e.array,o,Hs(t+de,l.k,l.v,r,n,i))});let p=Gt(l,t+de,r,n,i,s);return p===l?e:{type:fe,size:e.size,array:re(e.array,o,p)}}function xi(e,t,r,n,i,s){let o=Hr(r,t),l=wi(e.bitmap,o);if(e.bitmap&o){let p=e.array[l];if(p.type!==H){let h=Gt(p,t+de,r,n,i,s);return h===p?e:{type:V,bitmap:e.bitmap,array:re(e.array,l,h)}}let d=p.k;return k(n,d)?i===p.v?e:{type:V,bitmap:e.bitmap,array:re(e.array,l,{type:H,k:n,v:i})}:(s.val=!0,{type:V,bitmap:e.bitmap,array:re(e.array,l,Hs(t+de,d,p.v,r,n,i))})}else{let p=e.array.length;if(p>=qu){let d=new Array(32),h=Dt(r,t);d[h]=xi(hi,t+de,r,n,i,s);let x=0,y=e.bitmap;for(let L=0;L<32;L++){if(y&1){let Y=e.array[x++];d[L]=Y}y=y>>>1}return{type:fe,size:p+1,array:d}}else{let d=Nu(e.array,l,{type:H,k:n,v:i});return s.val=!0,{type:V,bitmap:e.bitmap|o,array:d}}}}function Fu(e,t,r,n,i,s){if(r===e.hash){let o=gi(e,n);if(o!==-1)return e.array[o].v===i?e:{type:Ge,hash:r,array:re(e.array,o,{type:H,k:n,v:i})};let l=e.array.length;return s.val=!0,{type:Ge,hash:r,array:re(e.array,l,{type:H,k:n,v:i})}}return Gt({type:V,bitmap:Hr(e.hash,t),array:[e]},t,r,n,i,s)}function gi(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(k(t,e.array[n].k))return n;return-1}function Br(e,t,r,n){switch(e.type){case fe:return Iu(e,t,r,n);case V:return Du(e,t,r,n);case Ge:return Gu(e,n)}}function Iu(e,t,r,n){let i=Dt(r,t),s=e.array[i];if(s!==void 0){if(s.type!==H)return Br(s,t+de,r,n);if(k(n,s.k))return s}}function Du(e,t,r,n){let i=Hr(r,t);if(!(e.bitmap&i))return;let s=wi(e.bitmap,i),o=e.array[s];if(o.type!==H)return Br(o,t+de,r,n);if(k(n,o.k))return o}function Gu(e,t){let r=gi(e,t);if(!(r<0))return e.array[r]}function yi(e,t,r,n){switch(e.type){case fe:return Bu(e,t,r,n);case V:return Hu(e,t,r,n);case Ge:return Ru(e,n)}}function Bu(e,t,r,n){let i=Dt(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===H){if(!k(s.k,n))return e}else if(o=yi(s,t+de,r,n),o===s)return e;if(o===void 0){if(e.size<=Mu){let l=e.array,p=new Array(e.size-1),d=0,h=0,x=0;for(;d<i;){let y=l[d];y!==void 0&&(p[h]=y,x|=1<<d,++h),++d}for(++d;d<l.length;){let y=l[d];y!==void 0&&(p[h]=y,x|=1<<d,++h),++d}return{type:V,bitmap:x,array:p}}return{type:fe,size:e.size-1,array:re(e.array,i,o)}}return{type:fe,size:e.size,array:re(e.array,i,o)}}function Hu(e,t,r,n){let i=Hr(r,t);if(!(e.bitmap&i))return e;let s=wi(e.bitmap,i),o=e.array[s];if(o.type!==H){let l=yi(o,t+de,r,n);return l===o?e:l!==void 0?{type:V,bitmap:e.bitmap,array:re(e.array,s,l)}:e.bitmap===i?void 0:{type:V,bitmap:e.bitmap^i,array:_i(e.array,s)}}return k(n,o.k)?e.bitmap===i?void 0:{type:V,bitmap:e.bitmap^i,array:_i(e.array,s)}:e}function Ru(e,t){let r=gi(e,t);if(r<0)return e;if(e.array.length!==1)return{type:Ge,hash:e.hash,array:_i(e.array,r)}}function Rs(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===H){t(s.v,s.k);continue}Rs(s,t)}}}var Be=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=Br(this.root,0,te(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?hi:this.root,s=Gt(i,0,te(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=yi(this.root,0,te(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:Br(this.root,0,te(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){Rs(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+di(te(r),te(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let r=!0;return this.forEach((n,i)=>{r=r&&k(t.get(i,!n),n)}),r}};var Bt=void 0,Us={};function hs(e){return/^[-+]?(\d+)$/.test(e)?new c(parseInt(e)):new f(Bt)}function ws(e){return e.toString()}function Ls(e){if(e==="")return 0;let t=bi(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function Pr(e){let t=bi(e);return t?z.fromArray(Array.from(t).map(r=>r.segment)):z.fromArray(e.match(/./gsu))}function bi(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function vs(e){let t,r=bi(e);return r?t=r.next().value?.segment:t=e.match(/./su)?.[0],t?new c([t,e.slice(t.length)]):new f(Bt)}function ti(e){return e.toLowerCase()}function Os(e,t){let r=e[Symbol.iterator](),n=r.next().value||"",i=r.next();for(;!i.done;)n=n+t+i.value,i=r.next();return n}function Mt(e){let t="";for(let r of e)t=t+r;return t}function zt(e){return e.length}function js(e,t){return e.startsWith(t)}var Vs=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),td=new RegExp(`^([${Vs}]*)`,"g"),rd=new RegExp(`([${Vs}]*)$`,"g");function _s(e,t){try{let r="gu";return t.case_insensitive&&(r+="i"),t.multi_line&&(r+="m"),new c(new RegExp(e,r))}catch(r){let n=(r.columnNumber||0)|0;return new f(new Or(r.message,n))}}function $s(e,t){let r=Array.from(t.matchAll(e)).map(n=>{let i=n[0],s=[];for(let o=n.length-1;o>0;o--){if(n[o]){s[o-1]=new $(n[o]);continue}s.length>0&&(s[o-1]=new _)}return new tt(i,z.fromArray(s))});return z.fromArray(r)}function Ys(){return Be.new()}function rt(e){return z.fromArray(e.entries())}function Zs(e,t){return t.delete(e)}function Xs(e,t){let r=e.get(t,Us);return r===Us?new f(Bt):new c(r)}function Qs(e,t,r){return r.set(e,t)}function Ws(e){return decodeURIComponent((e||"").replace("+"," "))}function eo(e){return encodeURIComponent(e).replace("%2B","+")}function to(e){try{let t=[];for(let r of e.split("&")){let[n,i]=r.split("=");if(!n)continue;let s=Ws(n),o=Ws(i);t.push([s,o])}return new c(z.fromArray(t))}catch{return new f(Bt)}}function ai(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Qe)return"Result";if(e instanceof z)return"List";if(e instanceof Lr)return"BitArray";if(e instanceof Be)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Ht(e,t){return Uu(e,ai(t))}function Uu(e,t){return new f(z.fromArray([new K(e,t,z.fromArray([]))]))}function zs(e){return typeof e=="string"?new c(e):Ht("String",e)}function Ns(e){return Number.isInteger(e)?new c(e):Ht("Int",e)}function Ps(e){return Array.isArray(e)?new c(e):Ht("Tuple",e)}function ii(e,t){return t>=0&&e.length>t?new c(e[t]):new f(Bt)}function Fs(e){return Array.isArray(e)?new c(z.fromArray(e)):e instanceof z?new c(e):Ht("List",e)}function Is(e,t){if(e==null||e instanceof _)return new c(new _);e instanceof $&&(e=e[0]);let r=t(e);return r.isOk()?new c(new $(r[0])):r}function Ds(e,t){let r=()=>Ht("Dict",e);if(e instanceof Be||e instanceof WeakMap||e instanceof Map){let n=Xs(e,t);return new c(n.isOk()?new $(n[0]):new _)}else return e===null?r():Object.getPrototypeOf(e)==Object.prototype?Js(e,t,()=>new c(new _)):Js(e,t,r)}function Js(e,t,r){try{return t in e?new c(new $(e[t])):r()}catch{return r()}}function J(){return Ys()}function ie(e,t,r){return Qs(t,r,e)}function Ju(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=ie(n,i[0],i[1])}}}function Gr(e){return Ju(e,J())}function Ku(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=m(i,n)}}}function Vu(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return Ku(n,u([]));{let i=r.head;e=r.tail,t=m(i[0],n)}}}function Yu(e){let t=rt(e);return Vu(t,u([]))}function Rr(e){return Yu(e)}function ki(e,t){return Zs(t,e)}function ro(e,t){for(;;){let r=e,n=t;if(n.hasLength(0))return r;{let i=n.head,s=n.tail;e=ki(r,i),t=s}}}var Rt=class extends a{constructor(t,r,n,i,s,o,l){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=l}};function no(e,t){let n=ds(e,new jr(!0,!1)),i=ys(n),s=T(i,p=>Er(p,t)),o=N(s,Et),l=T(o,p=>p.submatches);return De(l,u([]))}function Zu(e){if(e instanceof _)return new _;{let t=e[0],r=Ft(t);if(r.isOk()&&r[0][0]==="?"){let n=r[0][1];return new $(n)}else return new _}}function Ur(e){return e instanceof $&&e[0]===""?new _:e instanceof _?new _:e}function Xu(e,t){for(;;){let r=e,n=t;if(n===0)return 0;if(r.hasLength(0))return n;e=r.tail,t=n-1}}function io(e,t){return we(e,gs(new _,Xu(e,t)))}function Qu(e){let t=Ee(e,"");if(t==="")return[new _,new _,new _];if(t==="//")return[new _,new $(""),new _];{let r=t,n=(()=>{let s=no("^(//)?((.*)@)?(\\[[a-zA-Z0-9:.]*\\]|[^:]*)(:(\\d*))?",r);return io(s,6)})();if(n.hasLength(6)){let i=n.tail.tail.head,s=n.tail.tail.tail.head,o=n.tail.tail.tail.tail.tail.head,l=Ur(i),p=Ur(s),d=(()=>{let x=Ee(o,""),y=Te(x);return Ot(y)})();return[l,p,d]}else return[new _,new _,new _]}}function ea(e){let t="^(([a-z][a-z0-9\\+\\-\\.]*):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#.*)?",r=(()=>{let b=no(t,e);return io(b,8)})(),n=(()=>{if(r.hasLength(8)){let g=r.tail.head,b=r.tail.tail.head,S=r.tail.tail.tail.tail.head,F=r.tail.tail.tail.tail.tail.head,me=r.tail.tail.tail.tail.tail.tail.tail.head;return[g,b,S,F,me]}else return[new _,new _,new _,new _,new _]})(),i=n[0],s=n[1],o=n[2],l=n[3],p=n[4],d=Ur(i),h=Ee(o,""),x=Zu(l),y=Qu(s),L=y[0],Y=y[1],ve=y[2],Oe=(()=>{let b=et(p,void 0),S=N(b,Ft),F=T(S,xs);return Ot(F)})(),$e=(()=>{let b=Ur(d);return vr(b,Me)})();return new c(new Rt($e,L,Y,ve,h,x,Oe))}function Wr(e){return ea(e)}function Ai(e){return to(e)}function Li(e){return eo(e)}function so(e){let t=(()=>{let l=e.fragment;if(l instanceof $){let p=l[0];return u(["#",p])}else return u([])})(),r=(()=>{let l=e.query;if(l instanceof $){let p=l[0];return m("?",m(p,t))}else return t})(),n=m(e.path,r),i=(()=>{let l=e.host,p=Nt(e.path,"/");if(l instanceof $&&!p&&l[0]!==""){let d=l[0];return m("/",n)}else return n})(),s=(()=>{let l=e.host,p=e.port;if(l instanceof $&&p instanceof $){let d=p[0];return m(":",m(j(d),i))}else return i})(),o=(()=>{let l=e.scheme,p=e.userinfo,d=e.host;if(l instanceof $&&p instanceof $&&d instanceof $){let h=l[0],x=p[0],y=d[0];return m(h,m("://",m(x,m("@",m(y,s)))))}else if(l instanceof $&&p instanceof _&&d instanceof $){let h=l[0],x=d[0];return m(h,m("://",m(x,s)))}else if(l instanceof $&&p instanceof $&&d instanceof _){let h=l[0];return m(h,m(":",s))}else if(l instanceof $&&p instanceof _&&d instanceof _){let h=l[0];return m(h,m(":",s))}else if(l instanceof _&&p instanceof _&&d instanceof $){let h=d[0];return m("//",m(h,s))}else return s})();return Pt(o)}function ye(e,t,r){return e?t:r()}function Oi(e){return JSON.stringify(e)}function oo(e){return Object.fromEntries(e)}function lo(e){return e.toArray()}function uo(){return null}function ao(e){try{let t=JSON.parse(e);return new c(t)}catch(t){return new f(ra(t,e))}}function ra(e,t){return na(e)?new Kr:ia(e,t)}function na(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function ia(e,t){let r=[sa,oa,ua,la];for(let n of r){let i=n(e,t);if(i)return i}return new ze("",0)}function sa(e){let r=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!r)return null;let n=Jr(r[1]);return new ze(n,-1)}function oa(e){let r=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!r)return null;let n=Jr(r[1]),i=Number(r[2]);return new ze(n,i)}function la(e,t){let n=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!n)return null;let i=Number(n[2]),s=Number(n[3]),o=aa(i,s,t),l=Jr(t[o]);return new ze(l,o)}function ua(e){let r=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!r)return null;let n=Jr(r[2]);return new ze(n,0)}function Jr(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function aa(e,t,r){if(e===1)return t-1;let n=1,i=0;return r.split("").find((s,o)=>(s===`
`&&(n+=1),n===e?(i=o+t,!0):!1)),i}var Kr=class extends a{},ze=class extends a{constructor(t,r){super(),this.byte=t,this.position=r}};var Vr=class extends a{constructor(t){super(),this[0]=t}};function ca(e,t){return C(ao(e),r=>{let n=t(r);return pe(n,i=>new Vr(i))})}function Yr(e,t){return ca(e,t)}function po(e){return Oi(e)}function P(e){return e}function fa(){return uo()}function co(e,t){if(e instanceof $){let r=e[0];return t(r)}else return fa()}function Ne(e){return oo(e)}function Ei(e){return lo(e)}function be(e,t){let n=E(e,t);return Ei(n)}var Zr=class extends a{constructor(t){super(),this.all=t}};function da(e){return new Zr(u([t=>e(t.dispatch,t.emit,t.select)]))}function W(e){return da((t,r,n)=>e(t))}function Re(){return new Zr(u([]))}var it=class extends a{constructor(t){super(),this.content=t}},v=class extends a{constructor(t,r,n,i,s,o,l){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=l}},Ue=class extends a{constructor(t){super(),this.subtree=t}},st=class extends a{constructor(t,r){super(),this.elements=t,this.key=r}},ot=class extends a{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},Wt=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};function ha(e){if(e instanceof ot)return new f(void 0);{let t=e[0],r=e[1],n=Fr(t,2);return new c([n,r])}}function fo(e,t,r){return Zn(e,t,(n,i,s)=>{let o=r+"-"+j(s);return _o(i,n,o)})}function _o(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof it)return i;if(n instanceof Ue){let o=n.subtree;e=o(),t=i,r=s}else if(n instanceof v){let o=n.attrs,l=n.children,p=Ie(o,i,(d,h)=>{let x=ha(h);if(x.isOk()){let y=x[0][0],L=x[0][1];return ie(d,s+"-"+y,L)}else return d});return fo(l,p,s)}else{let o=n.elements;return fo(o,i,s)}}}function $o(e){return _o(e,J(),"0")}function Jt(e,t){return new ot(e,t,!1)}function ho(e,t){return new Wt("on"+e,t)}function w(e){return Jt("class",e)}function Kt(e){return Jt("id",e)}function wo(e){return Jt("placeholder",e)}function xo(e){return Jt("href",e)}function lt(e){return Jt("src",e)}function R(e,t,r){return e==="area"?new v("","",e,t,u([]),!1,!0):e==="base"?new v("","",e,t,u([]),!1,!0):e==="br"?new v("","",e,t,u([]),!1,!0):e==="col"?new v("","",e,t,u([]),!1,!0):e==="embed"?new v("","",e,t,u([]),!1,!0):e==="hr"?new v("","",e,t,u([]),!1,!0):e==="img"?new v("","",e,t,u([]),!1,!0):e==="input"?new v("","",e,t,u([]),!1,!0):e==="link"?new v("","",e,t,u([]),!1,!0):e==="meta"?new v("","",e,t,u([]),!1,!0):e==="param"?new v("","",e,t,u([]),!1,!0):e==="source"?new v("","",e,t,u([]),!1,!0):e==="track"?new v("","",e,t,u([]),!1,!0):e==="wbr"?new v("","",e,t,u([]),!1,!0):new v("","",e,t,r,!1,!1)}function Xr(e,t){if(e instanceof v){let r=e.namespace,n=e.tag,i=e.attrs,s=e.children,o=e.self_closing,l=e.void;return new v(t,r,n,i,s,o,l)}else if(e instanceof Ue){let r=e.subtree;return new Ue(()=>Xr(r(),t))}else if(e instanceof st){let n=e.elements,i=qr(n,(s,o)=>{if(s instanceof v){let l=s.key,p=l===""?t+"-"+j(o):t+"-"+l;return Xr(s,p)}else return Xr(s,t)});return new st(i,t)}else return e}function Qr(e,t){return e(E(t,r=>{let n=r[0],i=r[1];return Xr(i,n)}))}function go(e){return new it(e)}var Si=class extends a{constructor(t){super(),this.dict=t}};function yo(){return new Si(J())}var en=class extends a{constructor(t){super(),this[0]=t}},tn=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},rn=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};function ko(e){return k(e.created,J())&&k(e.removed,yo())&&k(e.updated,J())}var nn=class extends a{constructor(t){super(),this[0]=t}},sn=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},Vt=class extends a{constructor(t){super(),this[0]=t}},_e=class extends a{constructor(t){super(),this[0]=t}},Yt=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},on=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};var Zt=class extends a{},ln=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},un=class extends a{constructor(t){super(),this[0]=t}},an=class extends a{constructor(t){super(),this[0]=t}};function Ci(e,t,r){let n,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:l}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),n??=s;else{let p=document.createTextNode(o.content);l.replaceChild(p,s),n??=p}else{let p=document.createTextNode(o.content);l.appendChild(p),n??=p}else if(o.tag!==void 0){let p=ka({prev:s,next:o,dispatch:r,stack:i});s?s!==p&&l.replaceChild(p,s):l.appendChild(p),n??=p}else if(o.elements!==void 0)for(let p of pn(o))i.unshift({prev:s,next:p,parent:l}),s=s?.nextSibling}return n}function ka({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),l;if(Xt.has(o))l=Xt.get(o);else{let g=new Map;Xt.set(o,g),l=g}let p=s?new Set(l.keys()):null,d=s?new Set(Array.from(e.attributes,g=>g.name)):null,h=null,x=null,y=null;if(s&&t.tag==="textarea"){let g=t.children[Symbol.iterator]().next().value?.content;g!==void 0&&(o.value=g)}for(let g of t.attrs){let b=g[0],S=g[1];if(g.as_property)o[b]!==S&&(o[b]=S),s&&d.delete(b);else if(b.startsWith("on")){let F=b.slice(2),me=r(S,F==="input");l.has(F)||o.addEventListener(F,Qt),l.set(F,me),s&&p.delete(F)}else if(b.startsWith("data-lustre-on-")){let F=b.slice(15),me=r(Aa);l.has(F)||o.addEventListener(F,Qt),l.set(F,me),o.setAttribute(b,S)}else b==="class"?h=h===null?S:h+" "+S:b==="style"?x=x===null?S:x+S:b==="dangerous-unescaped-html"?y=S:(o.getAttribute(b)!==S&&o.setAttribute(b,S),(b==="value"||b==="selected")&&(o[b]=S),s&&d.delete(b))}if(h!==null&&(o.setAttribute("class",h),s&&d.delete("class")),x!==null&&(o.setAttribute("style",x),s&&d.delete("style")),s){for(let g of d)o.removeAttribute(g);for(let g of p)l.delete(g),o.removeEventListener(g,Qt)}if(t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(y!==null)return o.innerHTML=y,o;let L=o.firstChild,Y=null,ve=null,Oe=null,$e=er(t).next().value;if(s&&$e!==void 0&&$e.key!==void 0&&$e.key!==""){Y=new Set,ve=Ao(e),Oe=Ao(t);for(let g of er(t))L=La(L,g,o,n,Oe,ve,Y)}else for(let g of er(t))n.unshift({prev:L,next:g,parent:o}),L=L?.nextSibling;for(;L;){let g=L.nextSibling;o.removeChild(L),L=g}return o}var Xt=new WeakMap;function Qt(e){let t=e.currentTarget;if(!Xt.has(t)){t.removeEventListener(e.type,Qt);return}let r=Xt.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,Qt);return}r.get(e.type)(e)}function Aa(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let l=o.split(".");for(let p=0,d=s,h=e;p<l.length;p++)p===l.length-1?d[l[p]]=h[l[p]]:(d[l[p]]??={},h=h[l[p]],d=d[l[p]]);return s},{data:n})}}function Ao(e){let t=new Map;if(e)for(let r of er(e)){let n=r?.key||r?.getAttribute?.("data-lustre-key");n&&t.set(n,r)}return t}function La(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let p=e.nextSibling;r.removeChild(e),e=p}if(s.size===0){for(let p of er(t))n.unshift({prev:e,next:p,parent:r}),e=e?.nextSibling;return e}if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let l=s.get(t.key);if(!l&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!l&&e!==null){let p=document.createTextNode("");return r.insertBefore(p,e),n.unshift({prev:p,next:t,parent:r}),e}return!l||l===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e)}function*er(e){for(let t of e.children)yield*pn(t)}function*pn(e){if(e.elements!==void 0)for(let t of e.elements)yield*pn(t);else e.subtree!==void 0?yield*pn(e.subtree()):yield e}var qi=class e{static start({init:t,update:r,view:n},i,s){if(!zi())return new f(new tr);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new f(new cn(i));let l=new e(o,t(s),r,n);return new c(p=>l.send(p))}constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#r=s,this.#t=window.requestAnimationFrame(()=>this.#n(n.all.toArray(),!0))}root;send(t){if(t instanceof Vt){if(t[0]instanceof an){this.#t=window.cancelAnimationFrame(this.#t),this.#i=[],this.#e=t[0][0];let r=this.#r(this.#e),n=(s,o=!1)=>l=>{let p=s(l);p instanceof c&&this.send(new _e(p[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Ci(i,r,n)}}else if(t instanceof _e){let r=t[0],n=t[1]??!1;this.#i.push(r),n?(this.#t=window.cancelAnimationFrame(this.#t),this.#n()):this.#t||(this.#t=window.requestAnimationFrame(()=>this.#n()))}else if(t instanceof Yt){let r=t[0],n=t[1];this.root.dispatchEvent(new CustomEvent(r,{detail:n,bubbles:!0,composed:!0}))}else if(t instanceof Zt)for(this.#t=window.cancelAnimationFrame(this.#t),this.#e=null,this.#s=null,this.#r=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#r;#i=[];#t;#n(t=[],r=!1){if(this.#t=void 0,!this.#o(t,r))return;let n=this.#r(this.#e),i=(o,l=!1)=>p=>{let d=o(p);d instanceof c&&this.send(new _e(d[0],l))},s=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Ci(s,n,i)}#o(t=[],r=!1){for(;this.#i.length>0;){let n=this.#i.shift(),[i,s]=this.#s(this.#e,n);r||=this.#e!==i,t=t.concat(s.all.toArray()),this.#e=i}for(;t.length>0;)t.shift()({dispatch:l=>this.send(new _e(l)),emit:(l,p)=>this.root.dispatchEvent(new CustomEvent(l,{detail:p,bubbles:!0,composed:!0})),select:()=>{}});return this.#i.length>0?this.#o(t,r):r}},Lo=qi.start;var Mi=class e{static start({init:t,update:r,view:n,on_attribute_change:i},s){let o=new e(t(s),r,n,i);return new c(l=>o.send(l))}constructor([t,r],n,i,s){this.#e=t,this.#s=n,this.#i=i,this.#t=i(t),this.#u=s,this.#n=new Map,this.#o=$o(this.#t),this.#l(r.all.toArray())}send(t){if(t instanceof nn){for(let r of t[0]){let n=this.#u.get(r[0]);if(!n)continue;let i=n(r[1]);i instanceof f||this.#r.push(i)}this.#l()}else if(t instanceof sn)this.#r=this.#r.concat(t[0].toArray()),this.#l(t[1].all.toArray());else if(!(t instanceof Vt))if(t instanceof _e)this.#r.push(t[0]),this.#l();else if(t instanceof Yt){let r=new tn(t[0],t[1]);for(let[n,i]of this.#n)i(r)}else if(t instanceof on){let r=this.#o.get(t[0]);if(!r)return;let n=r(t[1]);if(n instanceof f)return;this.#r.push(n[0]),this.#l()}else if(t instanceof ln){let r=Rr(this.#u),n=new rn(r,this.#t);this.#n=this.#n.set(t[0],t[1]),t[1](n)}else t instanceof un&&(this.#n=this.#n.delete(t[0]))}#e;#s;#r;#i;#t;#n;#o;#u;#l(t=[]){if(!this.#a(!1,t))return;let r=this.#i(this.#e),n=elements(this.#t,r);if(!ko(n)){let i=new en(n);for(let[s,o]of this.#n)o(i)}this.#t=r,this.#o=n.handlers}#a(t=!1,r=[]){for(;this.#r.length>0;){let n=this.#r.shift(),[i,s]=this.#s(this.#e,n);t||=this.#e!==i,r=r.concat(s.all.toArray()),this.#e=i}for(;r.length>0;)r.shift()({dispatch:l=>this.send(new _e(l)),emit:(l,p)=>this.root.dispatchEvent(new CustomEvent(l,{detail:p,bubbles:!0,composed:!0})),select:()=>{}});return this.#r.length>0?this.#a(t,r):t}},va=Mi.start,zi=()=>globalThis.window&&window.document;var Ni=class extends a{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var cn=class extends a{constructor(t){super(),this.selector=t}},tr=class extends a{};function vo(e,t,r){return new Ni(e,t,r,new _)}function Oo(e,t,r){return ye(!zi(),new f(new tr),()=>Lo(e,t,r))}var ut=class e{constructor(t){this.promise=t}static wrap(t){return t instanceof Promise?new e(t):t}static unwrap(t){return t instanceof e?t.promise:t}};function fn(e){return Promise.resolve(ut.wrap(e))}function jo(e,t){return e.then(r=>t(ut.unwrap(r)))}function dn(e,t){return e.then(r=>ut.wrap(t(ut.unwrap(r))))}function Pi(e,t){return e.catch(r=>t(r))}function Eo(e,t){return dn(e,n=>(t(n),n))}function _n(e,t){return jo(e,n=>{if(n.isOk()){let i=n[0];return t(i)}else{let i=n[0];return fn(new f(i))}})}function Fi(e){return new Audio(e)}async function Ii(e){try{return await e.play(),new c}catch(t){return new f(t.toString())}}function ct(e){let t=document.getElementById(e);return t?new c(t):new f}function Di(e){let t=e.value;return t!=null?new c(t):new f}function Sa(){return globalThis}function Ca(e){window.alert(e)}function qa(e,t){return window.addEventListener(e,t)}async function Ma(){try{return new c(await window.navigator.wakeLock.request("screen"))}catch(e){return new f(e.toString())}}function Gi(){return window.location.href}function za(e){try{return new c(e.location.href)}catch(t){return new f(t.toString())}}function Na(e,t){e.location.href=t}function Pa(){return window.location.reload()}function Fa(e){return e.location.reload()}function Ia(e){return e.focus()}function Da(){let e=window.location.hash;return e==""?new f:new c(decodeURIComponent(e.slice(1)))}function Ga(){let e=window.location.search;return e==""?new f:new c(decodeURIComponent(e.slice(1)))}function Ba(e){return e.innerHeight}function Ha(e){return e.innerWidth}function Ra(e){return e.outerHeight}function Ua(e){return e.outerWidth}function Wa(e){return e.screenX}function Ja(e){return e.screenY}function Ka(e){return e.screenTop}function Va(e){return e.screenLeft}function Ya(e){return e.scrollX}function Za(e){return e.scrollY}function Xa(e,t,r){try{return new c(window.open(e,t,r))}catch(n){return new f(n.toString())}}function Qa(e){e.close()}function ep(e){return e.closed}function tp(e){return window.queueMicrotask(e)}function rp(e){return window.requestAnimationFrame(e)}function np(e){return window.cancelAnimationFrame(e)}function ip(string){try{return new c(eval(string))}catch(e){return new f(e.toString())}}async function sp(e){try{return new c(await import(e))}catch(t){return new f(t.toString())}}function Bi(e){console.warn(e)}function $n(e){console.error(e)}function G(e){return go(e)}function qo(e,t){return R("aside",e,t)}function mn(e,t){return R("h1",e,t)}function Mo(e,t){return R("h3",e,t)}function B(e,t){return R("div",e,t)}function hn(e,t){return R("li",e,t)}function wn(e,t){return R("ul",e,t)}function zo(e,t){return R("a",e,t)}function ft(e,t){return R("span",e,t)}function dt(e){return R("img",e,u([]))}function _t(e,t){return R("button",e,t)}function xn(e){return R("input",e,u([]))}function No(e,t){return R("label",e,t)}function Po(e,t){return R("dialog",e,t)}var ne=class extends a{},Je=class extends a{},gn=class extends a{},yn=class extends a{},nr=class extends a{},bn=class extends a{},kn=class extends a{},An=class extends a{},Ln=class extends a{};var Ae=class extends a{},Ke=class extends a{};function Fo(e){return e instanceof kn?"connect":e instanceof nr?"delete":e instanceof ne?"get":e instanceof gn?"head":e instanceof An?"options":e instanceof Ln?"patch":e instanceof Je?"post":e instanceof yn?"put":e instanceof bn?"trace":e[0]}function Io(e){return e instanceof Ae?"http":"https"}var vn=class extends a{constructor(t,r,n,i,s,o,l,p){super(),this.method=t,this.headers=r,this.body=n,this.scheme=i,this.host=s,this.port=o,this.path=l,this.query=p}};function Ro(e){return new Rt(new $(Io(e.scheme)),new _,new $(e.host),e.port,e.path,e.query,new _)}function Hi(e,t,r){let n=zr(e.headers,Me(t),r);return e.withFields({headers:n})}function On(e,t){let r=e.method,n=e.headers,i=e.scheme,s=e.host,o=e.port,l=e.path,p=e.query;return new vn(r,n,t,i,s,o,l,p)}function Uo(e,t){let r=i=>Ce(u([Li(i[0]),"=",Li(i[1])])),n=(()=>{let s=E(t,r),o=Mr(s,qt("&")),l=ei(o),p=X(l);return new $(p)})();return e.withFields({query:n})}function Ri(e,t){return e.withFields({method:t})}function Wo(){return new vn(new ne,u([]),"",new Ke,"localhost",new _,"",new _)}function Jo(e,t){return e.withFields({scheme:t})}function Ko(e,t){return e.withFields({host:t})}function Vo(e,t){return e.withFields({port:new $(t)})}function Yo(e,t){return e.withFields({path:t})}var Le=class extends a{constructor(t,r,n){super(),this.status=t,this.headers=r,this.body=n}};async function Xo(e){try{return new c(await fetch(e))}catch(t){return new f(new jn(t.toString()))}}function Qo(e){return new Le(e.status,z.fromArray([...e.headers]),e)}function tl(e){let t=so(Ro(e)),r=Fo(e.method).toUpperCase(),n={headers:cp(e.headers),method:r};return r!=="GET"&&r!=="HEAD"&&(n.body=e.body),new globalThis.Request(t,n)}function cp(e){let t=new globalThis.Headers;for(let[r,n]of e)t.append(r.toLowerCase(),n);return t}async function Ui(e){let t;try{t=await e.body.text()}catch{return new f(new En)}return new c(e.withFields({body:t}))}var jn=class extends a{constructor(t){super(),this[0]=t}},En=class extends a{};function rl(e){let r=tl(e),n=Xo(r);return _n(n,i=>fn(new c(Qo(i))))}var Wi=class extends a{constructor(t){super(),this[0]=t}},Tn=class extends a{constructor(t){super(),this[0]=t}},Sn=class extends a{},Ji=class extends a{},ir=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},Ki=class extends a{},Vi=class extends a{constructor(t){super(),this.run=t}};function dp(e,t,r){let n=rl(e),i=_n(n,Ui),s=dn(i,l=>{if(l.isOk()){let p=l[0];return t.run(new c(p))}else return t.run(new f(new Sn))}),o=Pi(s,l=>t.run(new f(new Sn)));Eo(o,r)}function nl(e,t){return W(r=>dp(e,t,r))}function _p(e){if(e instanceof Le&&200<=e.status&&e.status<=299){let t=e.status,r=e.body;return new c(r)}else{if(e instanceof Le&&e.status===401)return new f(new Ki);if(e instanceof Le&&e.status===404)return new f(new Ji);if(e instanceof Le&&e.status===500){let t=e.body;return new f(new Wi(t))}else{let t=e.status,r=e.body;return new f(new ir(t,r))}}}function il(e){return new Vi(t=>{let n=C(t,_p);return e(n)})}var Yi=class extends a{constructor(t,r,n,i,s,o,l){super(),this.id=t,this.title=r,this.artists=n,this.album=i,this.album_cover=s,this.source=o,this.preview_url=l}},Cn=class extends a{constructor(t){super(),this.url=t}},Zi=class extends a{constructor(t){super(),this.url=t}};function mp(e){if(e instanceof Cn){let t=e.url;return Ne(u([["source",P("youtube")],["url",P(t)]]))}else{let t=e.url;return Ne(u([["source",P("spotify")],["url",P(t)]]))}}function qn(e){return Ne(u([["id",P(e.id)],["title",P(e.title)],["artists",(()=>{let t=e.artists;return be(t,P)})()],["album",P(e.album)],["album_cover",P(e.album_cover)],["source",mp(e.source)],["preview_url",co(e.preview_url,P)]]))}function hp(e){let t=(()=>{let r=e;return M("source",q)(r)})();if(t.isOk()&&t[0]==="youtube"){let r=e,n=M("url",q)(r);return T(n,i=>new Cn(i))}else if(t.isOk()&&t[0]==="spotify"){let r=e,n=M("url",q)(r);return T(n,i=>new Zi(i))}else if(t.isOk()){let r=t[0];return new f(u([new K("Wrong source name",r,u(["source"]))]))}else{let r=t[0];return new f(r)}}function Mn(e){let t=e;return Ms((r,n,i,s,o,l,p)=>new Yi(r,n,i,s,o,l,p),M("id",q),M("title",q),M("artists",ce(q)),M("album",q),M("album_cover",q),M("source",hp),M("preview_url",Cs(q)))(t)}var Xi=class extends a{constructor(t,r,n){super(),this.id=t,this.name=r,this.songs=n}},sr=class extends a{constructor(t){super(),this.name=t}};function ol(e){return Ne(u([["id",P(e.id)],["name",P(e.name)],["songs",be(e.songs,qn)]]))}function ll(e){let t=e;return ui((r,n,i)=>new Xi(r,n,i),M("id",q),M("name",q),M("songs",ce(Mn)))(t)}function ul(e){return Ne(u([["name",P(e.name)]]))}function al(e){let t=e;return si(r=>new sr(r),M("name",q))(t)}var $t=class extends a{constructor(t){super(),this.search=t}},mt=class extends a{constructor(t){super(),this.results=t}},ht=class extends a{constructor(t){super(),this.error=t}},oe=class extends a{constructor(t){super(),this.message=t}},wt=class extends a{constructor(t){super(),this.preview_url=t}},xt=class extends a{constructor(t){super(),this.playlists=t}},gt=class extends a{constructor(t){super(),this.id=t}},Ve=class extends a{constructor(t){super(),this.id=t}},yt=class extends a{constructor(t){super(),this.name=t}},or=class extends a{constructor(t){super(),this.playlist=t}},bt=class extends a{constructor(t){super(),this.playlist=t}},lr=class extends a{constructor(t){super(),this.playlist=t}},ur=class extends a{constructor(t){super(),this.id=t}};function cl(){return u([Mo(u([w("text-lg mb-4 text-center")]),u([G("Search songs and create playlists that can be exported to Spotify, Youtube Music,...")])),zo(u([xo("/login"),w("text-green-400 bg-zinc-700 hover:bg-zinc-600 rounded-md font-bold flex gap-2 py-2 px-4")]),u([dt(u([lt("https://storage.googleapis.com/pr-newsroom-wp/1/2023/05/Spotify_Primary_Logo_RGB_Green.png"),w("h-6")])),G("Login to Spotify")]))])}function fl(e,t){return B(u([w("bg-zinc-800 min-w-screen min-h-screen text-pink-100 p-4 flex flex-nowrap items-stretch")]),u([qo(u([w("w-1/8 md:w-1/6 lg:w-1/4 max-w-lg bg-zinc-900 rounded-lg")]),t),B(u([w("w-3/4 md:w-2/3 lg:w-1/2 max-w-3xl flex-1 flex flex-col items-center py-8")]),m(mn(u([w("text-4xl font-bold mb-8")]),u([G("Playlist Maker")])),e))]))}function Ye(e,t){return ho(e,t)}function yp(e){let t=ct("create-playlist-name");if(t.isOk()){let r=t[0],n=Di(r);if(n.isOk()){let i=n[0];return new c(new yt(i))}else return new c(new oe("Couldn't get value of element"))}else return new c(new oe("Couldn't find element with id create-playlist-name"))}function _l(e){return u([B(u([w("p-2 flex flex-col gap-2 items-stretch")]),u([Qr(t=>wn(u([w("flex flex-col items-stretch")]),t),E(e,r=>[r[0],hn(u([]),u([G(r[1].name)]))])),_t(u([w("text-center font-bold border border-zinc-100 bg-zinc-900 hover:bg-zinc-800/50 rounded-md py-2 px-4"),Ye("click",t=>new c(new gt("create-playlist")))]),u([G("+ Create playlist")]))])),Po(u([Kt("create-playlist"),w("p-4 rounded-lg backdrop:bg-zinc-900 backdrop:opacity-80")]),u([mn(u([w("text-2xl font-bold mb-4")]),u([G("Create a new playlist")])),B(u([w("flex flex-col gap-4")]),u([No(u([w("flex gap-2 items-center")]),u([ft(u([]),u([G("Playlist name")])),xn(u([Kt("create-playlist-name"),wo("Playlist name..."),w("p-2 rounded-md bg-zinc-100 focus:bg-zinc-200")]))])),B(u([w("flex justify-end")]),u([_t(u([w("p-2 bg-zinc-100"),Ye("click",t=>new c(new Ve("create-playlist")))]),u([G("Close")])),_t(u([w("p-2 bg-green-500 text-zinc-100"),Ye("click",yp)]),u([G("Create")]))]))]))]))])}function zp(e,t){return r=>N(ce(Ir)(r),n=>{if(e>=0){let o=St(n,e),l=Et(o),p=Xn(l,u([new K("A list with at least"+j(e+1)+"elements","A list with"+j(Kn(n))+"elements",u([j(e)]))]));return C(p,t)}else return new f(u([new K("An 'index' decoder with a non-negative index",j(e),u([]))]))})}function Np(e,t){return Dr(u([qs(e,t),M(j(e),t),zp(e,t)]))}function Qi(e,t,r){if(e.hasLength(0))return t(r);{let n=e.head,i=e.tail,s=Te(n);if(s.isOk()){let o=s[0],l=r,p=Np(o,Ir)(l);return C(p,d=>Qi(i,t,d))}else{let o=r,l=M(n,Ir)(o);return C(l,p=>Qi(i,t,p))}}}function $l(e,t){return r=>Qi(e,t,r)}function ml(){return B(u([w("mt-8 w-8 h-8 animate-spin rounded-full border-2 border-t-zinc-800 border-x-zinc-800/50 border-b-zinc-800/50")]),u([]))}function Ip(e){let t=e,r=$l(u(["target","previousElementSibling","value"]),q)(t);return T(r,n=>new $t(n))}function Dp(e){let t=e.preview_url;if(t instanceof $){let r=t[0];return B(u([w("group relative")]),u([dt(u([lt(e.album_cover),w("w-16 h-16 rounded-sm"),Ye("click",n=>new c(new wt(r)))])),B(u([w("absolute w-full h-full top-0 left-0 group-hover:opacity-100 bg-zinc-100/50 p-2 opacity-0 transition-opacity duration-300")]),u([dt(u([lt("https://www.svgrepo.com/download/524827/play-circle.svg")]))]))]))}else return B(u([]),u([dt(u([lt(e.album_cover),w("w-16 h-16 rounded-sm")]))]))}function Gp(e){return B(u([w("flex items-center gap-4 py-4 px-8 bg-zinc-700/50 hover:bg-zinc-700/80")]),u([Dp(e),B(u([w("flex flex-col flex-1")]),u([ft(u([w("font-semibold")]),u([G(e.title)])),ft(u([w("text-sm text-zinc-100/70")]),u([G((()=>{let t=e.artists;return Q(t," - ")})())])),ft(u([w("text-sm text-zinc-100/70")]),u([G(e.album)]))]))]))}function Bp(e){return Qr(t=>wn(u([w("rounded-lg overflow-clip mt-8 w-full")]),t),E(e,t=>{let r=hn(u([]),u([Gp(t)]));return[t.id,r]}))}function hl(e,t){return u([B(u([w("rounded-md overflow-clip flex items-stretch")]),u([xn(u([w("py-2 px-4 bg-zinc-700/30 hover:bg-zinc-700/70 focus:bg-zinc-600/80"),Kt("search-songs")])),_t(u([w("bg-zinc-700 hover:bg-zinc-600 py-2 px-4"),Ye("click",Ip)]),u([G("Search")]))])),e?ml():Bp(t)])}var Fe=class extends a{constructor(t){super(),this.msg=t}},zn=class extends a{constructor(t){super(),this.err=t}};var ar=class extends a{},Nn=class extends a{},At=class extends a{},Pn=class extends a{constructor(t,r){super(),this.encoder=t,this.decoder=r}},Fn=class extends a{constructor(t,r){super(),this.btype=t,this.converter=r}};function ts(){return new Fn(new ar,new Pn(e=>Qn(),e=>new c(void 0)))}function Lt(e,t){return new Fn(new At,new Pn(r=>{let i=e(r);return po(i)},r=>{let n=Yr(r,t);return pe(n,i=>new zn(i))}))}function rs(e,t){let r=t;return e.converter.encoder(r)}function wl(e,t){let r=t;return e.converter.decoder(r)}function xl(e){return e.btype}var ns=class extends a{};var is=class extends a{constructor(t,r){super(),this.encoder=t,this.decoder=r}},ss=class extends a{constructor(t,r){super(),this.ptype=t,this.converter=r}};function Ze(e){return new ss(new ns,new is(t=>e,t=>ye(k(t,e),new c(void 0),()=>new f(void 0))))}function gl(e,t){let r=t;return e.converter.encoder(r)}function yl(e){return e.ptype}var pr=class extends a{},cr=class extends a{},fr=class extends a{constructor(t,r){super(),this.encoder=t,this.decoder=r}},Gn=class extends a{constructor(t,r){super(),this.qtype=t,this.converter=r}};function bl(){return new Gn(new pr,new fr(e=>u([]),e=>new c(void 0)))}function kl(e){return new Gn(new cr,e)}function Al(e,t){let r=t;return e.converter.encoder(r)}function Ll(e){return e.qtype}var Xe=class extends a{constructor(t,r,n,i,s){super(),this.method=t,this.path=r,this.query=n,this.req_body=i,this.res_body=s}};function dr(){return new Xe(new ne,Ze(u([])),bl(),ts(),ts())}function _r(e,t){return e.withFields({method:t})}function $r(e,t){return new Xe(e.method,t,e.query,e.req_body,e.res_body)}function vl(e,t){return new Xe(e.method,e.path,t,e.req_body,e.res_body)}function Ol(e,t){return new Xe(e.method,e.path,e.query,t,e.res_body)}function mr(e,t){return new Xe(e.method,e.path,e.query,e.req_body,t)}var hr=class extends a{constructor(t,r,n){super(),this.scheme=t,this.host=r,this.port=n}},ls=class extends a{constructor(t,r,n,i,s,o,l){super(),this.route=t,this.scheme=r,this.host=n,this.port=i,this.path_opt=s,this.query_opt=o,this.body_opt=l}};function El(){return new hr(new Ae,"localhost",80)}function Tl(e,t){return t instanceof Ae?new hr(new Ae,e.host,80):new hr(new Ke,e.host,443)}function Sl(e,t){return e.withFields({host:t})}function Cl(e,t){return e.withFields({port:t})}function wr(e,t){return new ls(t,e.scheme,e.host,e.port,new _,new _,new _)}function xr(e,t){return e.withFields({path_opt:new $(t)})}function ql(e,t){return e.withFields({query_opt:new $(t)})}function Ml(e,t){return e.withFields({body_opt:new $(t)})}function Rp(e,t,r,n){let i=(()=>{let o=t.route.path;return yl(o)})(),s=t.path_opt;if(s instanceof _)return r("Path option is missing, please call with_path before send");{let o=s[0];return n(Yo(e,(()=>{let p=t.route.path,d=gl(p,o);return Q(d,"/")})()))}}function Up(e,t,r,n){let i=(()=>{let o=t.route.query;return Ll(o)})(),s=t.query_opt;if(i instanceof cr&&s instanceof _)return r("Query option is missing, please call with_query before send");if(i instanceof pr)return n(e);{let o=s[0];return n(Uo(e,(()=>{let p=t.route.query;return Al(p,o)})()))}}function Wp(e,t,r,n){let i=(()=>{let o=t.route.req_body;return xl(o)})(),s=t.body_opt;if(i instanceof At&&s instanceof _)return r("Body option is missing, please call with_body before send");if(i instanceof Nn&&s instanceof _)return r("Body option is missing, please call with_body before send");if(i instanceof ar)return n(e);if(i instanceof At&&s instanceof $){let o=s[0];return n((()=>{let p=On(e,(()=>{let d=t.route.req_body,h=rs(d,o);return X(h)})());return Hi(p,"Content-Type","application/json")})())}else{let o=s[0];return n(On(e,(()=>{let p=t.route.req_body,d=rs(p,o);return X(d)})()))}}function Jp(e){if(e instanceof Fe){let t=e.msg;return new ir(500,t)}else{let t=e.err;return new Tn(t)}}function Bn(e,t,r){let n=(()=>{let i=Wo();return Ri(i,e.route.method)})();return Rp(n,e,r,i=>Up(i,e,r,s=>Wp(s,e,r,o=>{let p=(()=>{let h=Jo(o,e.scheme),x=Ko(h,e.host);return Vo(x,e.port)})();return nl(p,il(d=>{let x=C(d,y=>{let L=e.route.res_body,Y=wl(L,y);return pe(Y,Jp)});return t(x)}))})))}var gr=class extends a{constructor(t,r,n){super(),this.root_path=t,this.base=r,this.upsert=n}};function zl(){return new gr(u([]),new _,new _)}function Nl(e,t){return e.withFields({root_path:t})}function Pl(e,t,r){return new gr(e.root_path,new $([t,r]),e.upsert)}function Fl(e,t,r){return new gr(e.root_path,e.base,new $([t,r]))}function Il(e){let t=e.upsert,r=e.base;if(t instanceof _)return new f(new Fe("No upsert type provided, make sure you called with_upsert_type"));if(r instanceof _)return new f(new Fe("No base type provided, make sure you called with_base_type"));{let n=t[0],i=r[0],s=dr(),o=_r(s,new Je),l=$r(o,Ze(e.root_path)),p=Ol(l,Lt(n[0],n[1])),d=mr(p,Lt(i[0],i[1]));return new c(d)}}function Dl(e){let t=e.base;if(t instanceof _)return new f(new Fe("No base type provided, make sure you called with_base_type"));{let r=t[0],n=dr(),i=_r(n,new ne),s=$r(i,Ze(e.root_path)),o=mr(s,Lt(l=>be(l,r[0]),ce(r[1])));return new c(o)}}function Gl(){let e=zl(),t=Nl(e,u(["playlists"])),r=Pl(t,ol,ll);return Fl(r,ul,al)}function Bl(){let e=Gl();return Dl(e)}function Hl(){let e=Gl();return Il(e)}function yr(){let e=El(),t=Tl(e,new Ae),r=Sl(t,"localhost");return Cl(r,2345)}function us(e){!e||!(e instanceof HTMLDialogElement)||e.showModal()}function as(e){!e||!(e instanceof HTMLDialogElement)||e.close()}function ps(e,t){return Bn(e,n=>{if(n.isOk()){let i=n[0];return t(i)}else{let i=n[0];return new ht(i)}},n=>W(i=>i(new oe(n))))}function cs(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return W(n=>Bi(r))}}function Wl(){return cs(Bl(),e=>{let t=yr(),r=wr(t,e),n=xr(r,void 0);return ps(n,i=>new xt(i))})}function Jl(e){return cs(Hl(),t=>{let r=yr(),n=wr(r,t),i=xr(n,void 0),s=Ml(i,new sr(e));return ps(s,o=>new bt(o))})}var br=class extends a{constructor(t,r){super(),this.search=t,this.token=r}};function Zp(e){return u([["q",e.search],["token",e.token]])}function Xp(e){return N(xe(e,"q"),t=>N(xe(e,"token"),r=>new c(new br(t,r))))}function Kl(){let e=dr(),t=_r(e,new ne),r=$r(t,Ze(u(["songs","search"]))),n=vl(r,kl(new fr(Zp,Xp)));return mr(n,Lt(i=>be(i,qn),ce(Mn)))}function Vl(e,t){let r=yr(),n=wr(r,Kl()),i=xr(n,void 0),s=ql(i,new br(e,t));return Bn(s,o=>{if(o.isOk()){let l=o[0];return new mt(l)}else{let l=o[0];return new ht(l)}},o=>W(l=>l(new oe(o))))}var kr=class extends a{constructor(t,r,n,i,s){super(),this.token=t,this.last_search=r,this.searching=n,this.results=i,this.playlists=s}};function tc(e){let t=(()=>{let r=Wr(Gi()),n=C(r,s=>Ai((()=>{let o=s.query;return Ee(o,"")})())),i=C(n,s=>xe(s,"token"));return De(i,"")})();return[new kr(t,"",!1,u([]),J()),Wl()]}function rc(e,t){if(t instanceof $t){let r=t.search;return[e.withFields({last_search:r,searching:!0}),Vl(r,e.token)]}else if(t instanceof mt){let r=t.results;return[e.withFields({searching:!1,results:r}),Re()]}else if(t instanceof xt){let r=t.playlists;return[e.withFields({playlists:Gr(E(r,i=>[i.id,i]))}),Re()]}else if(t instanceof wt){let r=t.preview_url;return[e,W(n=>{let i=Fi(r);Ii(i)})]}else if(t instanceof gt){let r=t.id;return[e,W(n=>{let i=ct(r),s=T(i,us);return De(s,void 0)})]}else if(t instanceof yt){let r=t.name;return[e,Jl(r)]}else if(t instanceof bt){let r=t.playlist;return[e.withFields({playlists:(()=>{let n=e.playlists;return ie(n,r.id,r)})()}),W(n=>n(new Ve("create-playlist")))]}else if(t instanceof lr){let r=t.playlist;return[e.withFields({playlists:(()=>{let n=e.playlists;return ie(n,r.id,r)})()}),Re()]}else if(t instanceof or){let r=t.playlist;return[e.withFields({playlists:(()=>{let n=e.playlists;return ie(n,r.id,r)})()}),Re()]}else if(t instanceof ur){let r=t.id;return[e.withFields({playlists:(()=>{let n=e.playlists;return ro(n,u([r]))})()}),Re()]}else if(t instanceof Ve){let r=t.id;return[e,W(n=>{let i=ct(r),s=T(i,as);return De(s,void 0)})]}else if(t instanceof oe){let r=t.message;return[e,W(n=>$n(r))]}else{let r=t.error;return[e,W(n=>$n(r))]}}function nc(e){let t=(()=>{if(e instanceof kr&&e.token===""){let n=e.token;return cl()}else{let n=e.searching,i=e.results;return hl(n,i)}})(),r=_l((()=>{let n=e.playlists;return rt(n)})());return fl(t,r)}function Yl(){let e=vo(tc,rc,nc),t=Oo(e,"#app",void 0);if(!t.isOk())throw je("assignment_no_match","client",27,"main","Assignment pattern did not match",{value:t})}Yl();
