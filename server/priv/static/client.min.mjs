var c=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},q=class{static fromArray(t,r){let n=r||new ve;for(let i=t.length-1;i>=0;--i)n=new oe(t[i],n);return n}[Symbol.iterator](){return new et(this)}toArray(){return[...this]}atLeastLength(t){for(let r of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let r of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let r of this)t++;return t}};function y(e,t){return new oe(e,t)}function a(e,t){return q.fromArray(e,t)}var et=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof ve)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},ve=class extends q{},oe=class extends q{constructor(t,r){super(),this.head=t,this.tail=r}};var ue=class e extends c{static isResult(t){return t instanceof e}},p=class extends ue{constructor(t){super(),this[0]=t}isOk(){return!0}},f=class extends ue{constructor(t){super(),this[0]=t}isOk(){return!1}};function $(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!Dt(n)||!Dt(i)||!rn(n,i)||Vr(n,i)||Kr(n,i)||Zr(n,i)||Qr(n,i)||en(n,i)||tn(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[u,l]=Xr(n);for(let d of u(n))r.push(l(n,d),l(i,d))}return!0}function Xr(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Vr(e,t){return e instanceof Date&&(e>t||e<t)}function Kr(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Zr(e,t){return Array.isArray(e)&&e.length!==t.length}function Qr(e,t){return e instanceof Map&&e.size!==t.size}function en(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function tn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Dt(e){return typeof e=="object"&&e!==null}function rn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function tt(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.fn=n;for(let u in s)o[u]=s[u];return o}var g=class extends c{constructor(t){super(),this[0]=t}},m=class extends c{};function rt(e,t){if(e instanceof g){let r=e[0];return new p(r)}else return new f(t)}function Ee(e){if(e.isOk()){let t=e[0];return new g(t)}else return new m}function H(e,t){return e instanceof g?e[0]:t}function Ut(e,t){if(e instanceof g){let r=e[0];return new g(t(r))}else return new m}var qe=class extends c{constructor(t,r){super(),this.content=t,this.submatches=r}},Ce=class extends c{constructor(t,r){super(),this.error=t,this.byte_index=r}},Te=class extends c{constructor(t,r){super(),this.case_insensitive=t,this.multi_line=r}};function Wt(e,t){return Gt(e,t)}function Ht(e,t){return Yt(e,t)}function it(e){return Vt(e)}function P(e){return Kt(e)}function X(e,t){if(e.isOk()){let r=e[0];return new p(t(r))}else{let r=e[0];return new f(r)}}function st(e,t){if(e.isOk()){let r=e[0];return new p(r)}else{let r=e[0];return new f(t(r))}}function V(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new f(r)}}function Se(e,t){return V(e,t)}function Ne(e,t){return e.isOk()?e[0]:t}function Zt(e){return st(e,t=>{})}function ze(e){return lt(e)}function ce(e){return e}function ir(e){return ur(e)}function sr(e){return ut(e)}function or(e){let r=ze(e);return ce(r)}function ct(e){return lr(e)}function rr(e,t,r){let i=ot(e),s=cr(i,t),o=at(s,r);return or(o)}function pn(e,t,r){if(r<0)return"";if(t<0){let s=ir(e)+t;return s<0?"":rr(e,s,r)}else return rr(e,t,r)}function ft(e,t){return t<0?e:pn(e,t,ir(e)-t)}var fr=new WeakMap,pt=new DataView(new ArrayBuffer(8)),dt=0;function mt(e){let t=fr.get(e);if(t!==void 0)return t;let r=dt++;return dt===2147483647&&(dt=0),fr.set(e,r),r}function ht(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function xt(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function ar(e){pt.setFloat64(0,e);let t=pt.getInt32(0),r=pt.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function hn(e){return xt(e.toString())}function _n(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return mt(e);if(e instanceof Date)return ar(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+C(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+C(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+ht(C(n),C(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+ht(C(o),xt(s))|0}}return r}function C(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return ar(e);case"string":return xt(e);case"bigint":return hn(e);case"object":return _n(e);case"symbol":return mt(e);case"function":return mt(e);default:return 0}}var N=5,$t=Math.pow(2,N),xn=$t-1,$n=$t/2,wn=$t/4,v=0,S=1,A=2,U=3,wt={type:A,bitmap:0,array:[]};function de(e,t){return e>>>t&xn}function Pe(e,t){return 1<<de(e,t)}function gn(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function gt(e,t){return gn(e&t-1)}function T(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function yn(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function _t(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function pr(e,t,r,n,i,s){let o=C(t);if(o===n)return{type:U,hash:o,array:[{type:v,k:t,v:r},{type:v,k:i,v:s}]};let u={val:!1};return me(yt(wt,e,o,t,r,u),e,n,i,s,u)}function me(e,t,r,n,i,s){switch(e.type){case S:return bn(e,t,r,n,i,s);case A:return yt(e,t,r,n,i,s);case U:return kn(e,t,r,n,i,s)}}function bn(e,t,r,n,i,s){let o=de(r,t),u=e.array[o];if(u===void 0)return s.val=!0,{type:S,size:e.size+1,array:T(e.array,o,{type:v,k:n,v:i})};if(u.type===v)return $(n,u.k)?i===u.v?e:{type:S,size:e.size,array:T(e.array,o,{type:v,k:n,v:i})}:(s.val=!0,{type:S,size:e.size,array:T(e.array,o,pr(t+N,u.k,u.v,r,n,i))});let l=me(u,t+N,r,n,i,s);return l===u?e:{type:S,size:e.size,array:T(e.array,o,l)}}function yt(e,t,r,n,i,s){let o=Pe(r,t),u=gt(e.bitmap,o);if(e.bitmap&o){let l=e.array[u];if(l.type!==v){let x=me(l,t+N,r,n,i,s);return x===l?e:{type:A,bitmap:e.bitmap,array:T(e.array,u,x)}}let d=l.k;return $(n,d)?i===l.v?e:{type:A,bitmap:e.bitmap,array:T(e.array,u,{type:v,k:n,v:i})}:(s.val=!0,{type:A,bitmap:e.bitmap,array:T(e.array,u,pr(t+N,d,l.v,r,n,i))})}else{let l=e.array.length;if(l>=$n){let d=new Array(32),x=de(r,t);d[x]=yt(wt,t+N,r,n,i,s);let k=0,w=e.bitmap;for(let O=0;O<32;O++){if(w&1){let W=e.array[k++];d[O]=W}w=w>>>1}return{type:S,size:l+1,array:d}}else{let d=yn(e.array,u,{type:v,k:n,v:i});return s.val=!0,{type:A,bitmap:e.bitmap|o,array:d}}}}function kn(e,t,r,n,i,s){if(r===e.hash){let o=bt(e,n);if(o!==-1)return e.array[o].v===i?e:{type:U,hash:r,array:T(e.array,o,{type:v,k:n,v:i})};let u=e.array.length;return s.val=!0,{type:U,hash:r,array:T(e.array,u,{type:v,k:n,v:i})}}return me({type:A,bitmap:Pe(e.hash,t),array:[e]},t,r,n,i,s)}function bt(e,t){let r=e.array.length;for(let n=0;n<r;n++)if($(t,e.array[n].k))return n;return-1}function Me(e,t,r,n){switch(e.type){case S:return On(e,t,r,n);case A:return Ln(e,t,r,n);case U:return jn(e,n)}}function On(e,t,r,n){let i=de(r,t),s=e.array[i];if(s!==void 0){if(s.type!==v)return Me(s,t+N,r,n);if($(n,s.k))return s}}function Ln(e,t,r,n){let i=Pe(r,t);if(!(e.bitmap&i))return;let s=gt(e.bitmap,i),o=e.array[s];if(o.type!==v)return Me(o,t+N,r,n);if($(n,o.k))return o}function jn(e,t){let r=bt(e,t);if(!(r<0))return e.array[r]}function kt(e,t,r,n){switch(e.type){case S:return vn(e,t,r,n);case A:return En(e,t,r,n);case U:return An(e,n)}}function vn(e,t,r,n){let i=de(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===v){if(!$(s.k,n))return e}else if(o=kt(s,t+N,r,n),o===s)return e;if(o===void 0){if(e.size<=wn){let u=e.array,l=new Array(e.size-1),d=0,x=0,k=0;for(;d<i;){let w=u[d];w!==void 0&&(l[x]=w,k|=1<<d,++x),++d}for(++d;d<u.length;){let w=u[d];w!==void 0&&(l[x]=w,k|=1<<d,++x),++d}return{type:A,bitmap:k,array:l}}return{type:S,size:e.size-1,array:T(e.array,i,o)}}return{type:S,size:e.size,array:T(e.array,i,o)}}function En(e,t,r,n){let i=Pe(r,t);if(!(e.bitmap&i))return e;let s=gt(e.bitmap,i),o=e.array[s];if(o.type!==v){let u=kt(o,t+N,r,n);return u===o?e:u!==void 0?{type:A,bitmap:e.bitmap,array:T(e.array,s,u)}:e.bitmap===i?void 0:{type:A,bitmap:e.bitmap^i,array:_t(e.array,s)}}return $(n,o.k)?e.bitmap===i?void 0:{type:A,bitmap:e.bitmap^i,array:_t(e.array,s)}:e}function An(e,t){let r=bt(e,t);if(r<0)return e;if(e.array.length!==1)return{type:U,hash:e.hash,array:_t(e.array,r)}}function dr(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===v){t(s.v,s.k);continue}dr(s,t)}}}var pe=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=Me(this.root,0,C(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?wt:this.root,s=me(i,0,C(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=kt(this.root,0,C(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:Me(this.root,0,C(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){dr(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+ht(C(r),C(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let r=!0;return this.forEach((n,i)=>{r=r&&$(t.get(i,!n),n)}),r}};var Ot=void 0;function Vt(e){return/^[-+]?(\d+)$/.test(e)?new p(parseInt(e)):new f(Ot)}function Kt(e){return e.toString()}function ur(e){if(e==="")return 0;let t=Lt(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function ot(e){let t=Lt(e);return t?q.fromArray(Array.from(t).map(r=>r.segment)):q.fromArray(e.match(/./gsu))}function Lt(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function lr(e){let t,r=Lt(e);return r?t=r.next().value?.segment:t=e.match(/./su)?.[0],t?new p([t,e.slice(t.length)]):new f(Ot)}function ut(e){return e.toLowerCase()}function lt(e){let t="";for(let r of e)t=t+r;return t}var hr=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),du=new RegExp(`^([${hr}]*)`,"g"),mu=new RegExp(`([${hr}]*)$`,"g");function Gt(e,t){try{let r="gu";return t.case_insensitive&&(r+="i"),t.multi_line&&(r+="m"),new p(new RegExp(e,r))}catch(r){let n=(r.columnNumber||0)|0;return new f(new Ce(r.message,n))}}function Yt(e,t){let r=Array.from(t.matchAll(e)).map(n=>{let i=n[0],s=[];for(let o=n.length-1;o>0;o--){if(n[o]){s[o-1]=new g(n[o]);continue}s.length>0&&(s[o-1]=new m)}return new qe(i,q.fromArray(s))});return q.fromArray(r)}function _r(){return pe.new()}function Fe(e){return q.fromArray(e.entries())}function xr(e,t,r){return r.set(e,t)}function mr(e){return decodeURIComponent((e||"").replace("+"," "))}function $r(e){try{let t=[];for(let r of e.split("&")){let[n,i]=r.split("=");if(!n)continue;let s=mr(n),o=mr(i);t.push([s,o])}return new p(q.fromArray(t))}catch{return new f(Ot)}}function I(){return _r()}function he(e,t,r){return xr(t,r,e)}function Cn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=y(i,n)}}}function Tn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return Cn(n,a([]));{let i=r.head;e=r.tail,t=y(i[0],n)}}}function Sn(e){let t=Fe(e);return Tn(t,a([]))}function jt(e){return Sn(e)}function wr(e){return e[1]}function Nn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=y(i,n)}}}function F(e){return Nn(e,a([]))}function br(e){if(e.hasLength(0))return new f(void 0);{let t=e.head;return new p(t)}}function cr(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return a([]);e=r.tail,t=n-1}}function zn(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return F(s);if(n.hasLength(0))return F(s);{let u=n.head;e=n.tail,t=i-1,r=y(u,s)}}}function at(e,t){return zn(e,t,a([]))}function In(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=y(i,n)}}}function Z(e,t){return In(F(e),t)}function Q(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function Fn(e,t,r,n){for(;;){let i=e,s=t,o=r,u=n;if(i.hasLength(0))return s;{let l=i.head;e=i.tail,t=o(s,l,u),r=o,n=u+1}}}function vt(e,t,r){return Fn(e,t,r,0)}function Mn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return new f(void 0);{let i=r.head,s=r.tail,o=n(i);if(o.isOk()){let u=o[0];return new p(u)}else e=s,t=n}}}function Pn(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return s;e=n,t=i-1,r=y(n,s)}}function kr(e,t){return Pn(e,t,a([]))}function Or(e,t){return Mn(e,r=>{let n=r[0],i=r[1];return $(n,t)?new p(i):new f(void 0)})}var Et=class extends c{constructor(t,r,n,i,s,o,u){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=u}};function jr(e,t){let n=Wt(e,new Te(!0,!1)),i=Zt(n),s=X(i,l=>Ht(l,t)),o=V(s,br),u=X(o,l=>l.submatches);return Ne(u,a([]))}function Bn(e){if(e instanceof m)return new m;{let t=e[0],r=ct(t);if(r.isOk()&&r[0][0]==="?"){let n=r[0][1];return new g(n)}else return new m}}function Re(e){return e instanceof g&&e[0]===""?new m:e instanceof m?new m:e}function Dn(e,t){for(;;){let r=e,n=t;if(n===0)return 0;if(r.hasLength(0))return n;e=r.tail,t=n-1}}function vr(e,t){return Z(e,kr(new m,Dn(e,t)))}function Un(e){let t=H(e,"");if(t==="")return[new m,new m,new m];if(t==="//")return[new m,new g(""),new m];{let r=t,n=(()=>{let s=jr("^(//)?((.*)@)?(\\[[a-zA-Z0-9:.]*\\]|[^:]*)(:(\\d*))?",r);return vr(s,6)})();if(n.hasLength(6)){let i=n.tail.tail.head,s=n.tail.tail.tail.head,o=n.tail.tail.tail.tail.tail.head,u=Re(i),l=Re(s),d=(()=>{let k=H(o,""),w=it(k);return Ee(w)})();return[u,l,d]}else return[new m,new m,new m]}}function Wn(e){let t="^(([a-z][a-z0-9\\+\\-\\.]*):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#.*)?",r=(()=>{let _=jr(t,e);return vr(_,8)})(),n=(()=>{if(r.hasLength(8)){let h=r.tail.head,_=r.tail.tail.head,L=r.tail.tail.tail.tail.head,E=r.tail.tail.tail.tail.tail.head,se=r.tail.tail.tail.tail.tail.tail.tail.head;return[h,_,L,E,se]}else return[new m,new m,new m,new m,new m]})(),i=n[0],s=n[1],o=n[2],u=n[3],l=n[4],d=Re(i),x=H(o,""),k=Bn(u),w=Un(s),O=w[0],W=w[1],Le=w[2],je=(()=>{let _=rt(l,void 0),L=V(_,ct),E=X(L,wr);return Ee(E)})(),ie=(()=>{let _=Re(d);return Ut(_,sr)})();return new p(new Et(ie,O,W,Le,x,k,je))}function Er(e){return Wn(e)}function Ar(e){return $r(e)}function At(e,t,r){return e?t:r()}var Be=class extends c{constructor(t){super(),this.all=t}};function Jn(e){return new Be(a([t=>e(t.dispatch,t.emit,t.select)]))}function Tr(e){return Jn((t,r,n)=>e(t))}function Ct(){return new Be(a([]))}var ee=class extends c{constructor(t){super(),this.content=t}},b=class extends c{constructor(t,r,n,i,s,o,u){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=u}},_e=class extends c{constructor(t){super(),this.subtree=t}};var te=class extends c{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}};function ei(e){if(e instanceof te)return new f(void 0);{let t=e[0],r=e[1],n=ft(t,2);return new p([n,r])}}function Nr(e,t,r){return vt(e,t,(n,i,s)=>{let o=r+"-"+P(s);return zr(i,n,o)})}function zr(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof ee)return i;if(n instanceof _e){let o=n.subtree;e=o(),t=i,r=s}else if(n instanceof b){let o=n.attrs,u=n.children,l=Q(o,i,(d,x)=>{let k=ei(x);if(k.isOk()){let w=k[0][0],O=k[0][1];return he(d,s+"-"+w,O)}else return d});return Nr(u,l,s)}else{let o=n.elements;return Nr(o,i,s)}}}function Ir(e){return zr(e,I(),"0")}function ri(e,t){return new te(e,t,!1)}function Mr(e){return ri("href",e)}function De(e,t,r){return e==="area"?new b("","",e,t,a([]),!1,!0):e==="base"?new b("","",e,t,a([]),!1,!0):e==="br"?new b("","",e,t,a([]),!1,!0):e==="col"?new b("","",e,t,a([]),!1,!0):e==="embed"?new b("","",e,t,a([]),!1,!0):e==="hr"?new b("","",e,t,a([]),!1,!0):e==="img"?new b("","",e,t,a([]),!1,!0):e==="input"?new b("","",e,t,a([]),!1,!0):e==="link"?new b("","",e,t,a([]),!1,!0):e==="meta"?new b("","",e,t,a([]),!1,!0):e==="param"?new b("","",e,t,a([]),!1,!0):e==="source"?new b("","",e,t,a([]),!1,!0):e==="track"?new b("","",e,t,a([]),!1,!0):e==="wbr"?new b("","",e,t,a([]),!1,!0):new b("","",e,t,r,!1,!1)}function Rr(e){return new ee(e)}var Tt=class extends c{constructor(t){super(),this.dict=t}};function Br(){return new Tt(I())}var Ue=class extends c{constructor(t){super(),this[0]=t}},We=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},He=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};function Dr(e){return $(e.created,I())&&$(e.removed,Br())&&$(e.updated,I())}var Ge=class extends c{constructor(t){super(),this[0]=t}},Ye=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},xe=class extends c{constructor(t){super(),this[0]=t}},z=class extends c{constructor(t){super(),this[0]=t}},$e=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},Je=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};var we=class extends c{},Xe=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},Ve=class extends c{constructor(t){super(),this[0]=t}},Ke=class extends c{constructor(t){super(),this[0]=t}};function St(e,t,r){let n,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:u}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),n??=s;else{let l=document.createTextNode(o.content);u.replaceChild(l,s),n??=l}else{let l=document.createTextNode(o.content);u.appendChild(l),n??=l}else if(o.tag!==void 0){let l=fi({prev:s,next:o,dispatch:r,stack:i});s?s!==l&&u.replaceChild(l,s):u.appendChild(l),n??=l}else if(o.elements!==void 0)for(let l of Ze(o))i.unshift({prev:s,next:l,parent:u}),s=s?.nextSibling}return n}function fi({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),u;if(ge.has(o))u=ge.get(o);else{let h=new Map;ge.set(o,h),u=h}let l=s?new Set(u.keys()):null,d=s?new Set(Array.from(e.attributes,h=>h.name)):null,x=null,k=null,w=null;if(s&&t.tag==="textarea"){let h=t.children[Symbol.iterator]().next().value?.content;h!==void 0&&(o.value=h)}for(let h of t.attrs){let _=h[0],L=h[1];if(h.as_property)o[_]!==L&&(o[_]=L),s&&d.delete(_);else if(_.startsWith("on")){let E=_.slice(2),se=r(L,E==="input");u.has(E)||o.addEventListener(E,ye),u.set(E,se),s&&l.delete(E)}else if(_.startsWith("data-lustre-on-")){let E=_.slice(15),se=r(ai);u.has(E)||o.addEventListener(E,ye),u.set(E,se),o.setAttribute(_,L)}else _==="class"?x=x===null?L:x+" "+L:_==="style"?k=k===null?L:k+L:_==="dangerous-unescaped-html"?w=L:(o.getAttribute(_)!==L&&o.setAttribute(_,L),(_==="value"||_==="selected")&&(o[_]=L),s&&d.delete(_))}if(x!==null&&(o.setAttribute("class",x),s&&d.delete("class")),k!==null&&(o.setAttribute("style",k),s&&d.delete("style")),s){for(let h of d)o.removeAttribute(h);for(let h of l)u.delete(h),o.removeEventListener(h,ye)}if(t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(w!==null)return o.innerHTML=w,o;let O=o.firstChild,W=null,Le=null,je=null,ie=be(t).next().value;if(s&&ie!==void 0&&ie.key!==void 0&&ie.key!==""){W=new Set,Le=Ur(e),je=Ur(t);for(let h of be(t))O=pi(O,h,o,n,je,Le,W)}else for(let h of be(t))n.unshift({prev:O,next:h,parent:o}),O=O?.nextSibling;for(;O;){let h=O.nextSibling;o.removeChild(O),O=h}return o}var ge=new WeakMap;function ye(e){let t=e.currentTarget;if(!ge.has(t)){t.removeEventListener(e.type,ye);return}let r=ge.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,ye);return}r.get(e.type)(e)}function ai(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let u=o.split(".");for(let l=0,d=s,x=e;l<u.length;l++)l===u.length-1?d[u[l]]=x[u[l]]:(d[u[l]]??={},x=x[u[l]],d=d[u[l]]);return s},{data:n})}}function Ur(e){let t=new Map;if(e)for(let r of be(e)){let n=r?.key||r?.getAttribute?.("data-lustre-key");n&&t.set(n,r)}return t}function pi(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let l=e.nextSibling;r.removeChild(e),e=l}if(s.size===0){for(let l of be(t))n.unshift({prev:e,next:l,parent:r}),e=e?.nextSibling;return e}if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let u=s.get(t.key);if(!u&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!u&&e!==null){let l=document.createTextNode("");return r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e}return!u||u===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(u,e),n.unshift({prev:u,next:t,parent:r}),e)}function*be(e){for(let t of e.children)yield*Ze(t)}function*Ze(e){if(e.elements!==void 0)for(let t of e.elements)yield*Ze(t);else e.subtree!==void 0?yield*Ze(e.subtree()):yield e}var Nt=class e{static start({init:t,update:r,view:n},i,s){if(!It())return new f(new ke);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new f(new Qe(i));let u=new e(o,t(s),r,n);return new p(l=>u.send(l))}constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#r=s,this.#t=window.requestAnimationFrame(()=>this.#n(n.all.toArray(),!0))}root;send(t){if(t instanceof xe){if(t[0]instanceof Ke){this.#t=window.cancelAnimationFrame(this.#t),this.#i=[],this.#e=t[0][0];let r=this.#r(this.#e),n=(s,o=!1)=>u=>{let l=s(u);l instanceof p&&this.send(new z(l[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));St(i,r,n)}}else if(t instanceof z){let r=t[0],n=t[1]??!1;this.#i.push(r),n?(this.#t=window.cancelAnimationFrame(this.#t),this.#n()):this.#t||(this.#t=window.requestAnimationFrame(()=>this.#n()))}else if(t instanceof $e){let r=t[0],n=t[1];this.root.dispatchEvent(new CustomEvent(r,{detail:n,bubbles:!0,composed:!0}))}else if(t instanceof we)for(this.#t=window.cancelAnimationFrame(this.#t),this.#e=null,this.#s=null,this.#r=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#r;#i=[];#t;#n(t=[],r=!1){if(this.#t=void 0,!this.#o(t,r))return;let n=this.#r(this.#e),i=(o,u=!1)=>l=>{let d=o(l);d instanceof p&&this.send(new z(d[0],u))},s=this.root.firstChild??this.root.appendChild(document.createTextNode(""));St(s,n,i)}#o(t=[],r=!1){for(;this.#i.length>0;){let n=this.#i.shift(),[i,s]=this.#s(this.#e,n);r||=this.#e!==i,t=t.concat(s.all.toArray()),this.#e=i}for(;t.length>0;)t.shift()({dispatch:u=>this.send(new z(u)),emit:(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),select:()=>{}});return this.#i.length>0?this.#o(t,r):r}},Wr=Nt.start;var zt=class e{static start({init:t,update:r,view:n,on_attribute_change:i},s){let o=new e(t(s),r,n,i);return new p(u=>o.send(u))}constructor([t,r],n,i,s){this.#e=t,this.#s=n,this.#i=i,this.#t=i(t),this.#l=s,this.#n=new Map,this.#o=Ir(this.#t),this.#u(r.all.toArray())}send(t){if(t instanceof Ge){for(let r of t[0]){let n=this.#l.get(r[0]);if(!n)continue;let i=n(r[1]);i instanceof f||this.#r.push(i)}this.#u()}else if(t instanceof Ye)this.#r=this.#r.concat(t[0].toArray()),this.#u(t[1].all.toArray());else if(!(t instanceof xe))if(t instanceof z)this.#r.push(t[0]),this.#u();else if(t instanceof $e){let r=new We(t[0],t[1]);for(let[n,i]of this.#n)i(r)}else if(t instanceof Je){let r=this.#o.get(t[0]);if(!r)return;let n=r(t[1]);if(n instanceof f)return;this.#r.push(n[0]),this.#u()}else if(t instanceof Xe){let r=jt(this.#l),n=new He(r,this.#t);this.#n=this.#n.set(t[0],t[1]),t[1](n)}else t instanceof Ve&&(this.#n=this.#n.delete(t[0]))}#e;#s;#r;#i;#t;#n;#o;#l;#u(t=[]){if(!this.#c(!1,t))return;let r=this.#i(this.#e),n=elements(this.#t,r);if(!Dr(n)){let i=new Ue(n);for(let[s,o]of this.#n)o(i)}this.#t=r,this.#o=n.handlers}#c(t=!1,r=[]){for(;this.#r.length>0;){let n=this.#r.shift(),[i,s]=this.#s(this.#e,n);t||=this.#e!==i,r=r.concat(s.all.toArray()),this.#e=i}for(;r.length>0;)r.shift()({dispatch:u=>this.send(new z(u)),emit:(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),select:()=>{}});return this.#r.length>0?this.#c(t,r):t}},di=zt.start,It=()=>globalThis.window&&window.document;var Ft=class extends c{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var Qe=class extends c{constructor(t){super(),this.selector=t}},ke=class extends c{};function Hr(e,t,r){return new Ft(e,t,r,new m)}function Gr(e,t,r){return At(!It(),new f(new ke),()=>Wr(e,t,r))}function Mt(e){return Rr(e)}function Pt(e,t){return De("div",e,t)}function Yr(e,t){return De("a",e,t)}function xi(){return globalThis}function $i(e){window.alert(e)}function wi(e,t){return window.addEventListener(e,t)}async function gi(){try{return new p(await window.navigator.wakeLock.request("screen"))}catch(e){return new f(e.toString())}}function Rt(){return window.location.href}function yi(e){try{return new p(e.location.href)}catch(t){return new f(t.toString())}}function bi(e,t){e.location.href=t}function ki(){return window.location.reload()}function Oi(e){return e.location.reload()}function Li(e){return e.focus()}function ji(){let e=window.location.hash;return e==""?new f:new p(decodeURIComponent(e.slice(1)))}function vi(){let e=window.location.search;return e==""?new f:new p(decodeURIComponent(e.slice(1)))}function Ei(e){return e.innerHeight}function Ai(e){return e.innerWidth}function qi(e){return e.outerHeight}function Ci(e){return e.outerWidth}function Ti(e){return e.screenX}function Si(e){return e.screenY}function Ni(e){return e.screenTop}function zi(e){return e.screenLeft}function Ii(e){return e.scrollX}function Fi(e){return e.scrollY}function Mi(e,t,r){try{return new p(window.open(e,t,r))}catch(n){return new f(n.toString())}}function Pi(e){e.close()}function Ri(e){return e.closed}function Bi(e){return window.queueMicrotask(e)}function Di(e){return window.requestAnimationFrame(e)}function Ui(e){return window.cancelAnimationFrame(e)}function Wi(string){try{return new p(eval(string))}catch(e){return new f(e.toString())}}async function Hi(e){try{return new p(await import(e))}catch(t){return new f(t.toString())}}function Bt(e){console.log(e)}var Oe=class extends c{constructor(t){super(),this.token=t}};function Ji(e){let t=(()=>{let r=Er(Rt()),n=Se(r,s=>Ar((()=>{let o=s.query;return H(o,"")})())),i=Se(n,s=>Or(s,"q"));return Ne(i,"")})();return[new Oe(t),Ct()]}function Xi(e,t){{let r=t.token;return[new Oe(r),Tr(n=>Bt(r))]}}function Vi(e){return Pt(a([]),a([Pt(a([]),a([Mt(e.token)])),Yr(a([Mr("/login")]),a([Mt("Login")]))]))}function Jr(){let e=Hr(Ji,Xi,Vi),t=Gr(e,"#app",void 0);if(!t.isOk())throw tt("assignment_no_match","client",19,"main","Assignment pattern did not match",{value:t})}Jr();
